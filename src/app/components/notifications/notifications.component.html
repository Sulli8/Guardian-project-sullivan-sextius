<app-nav-bar></app-nav-bar>
<div class="notifications-container">
  <div class="sidebar-notifications">
    <div class="title">Vos notifications - <p class="count-notification">{{notifications.length}}</p></div>
    <p *ngIf="displayMessage">Merci d'autoriser les notifications dans votre navigateur</p>
    <div class="buttons-container">
      <button [disabled]="NotifsAllowed" (click)="subscribeToPush()" class="button is-primary">
        Souscrire aux notifications
      </button>
      <!-- Si l'utilisateur est abonné, afficher le bouton de désabonnement -->
      <button *ngIf="NotifsAllowed" (click)="unsubscribeFromPush()" class="button is-danger">
        Se désabonner des notifications
      </button>

      <div *ngIf="NotifsAllowed" class="buttons-container-child">
        <button class="button is-primary">Exporter mes données</button>
        <button class="button is-primary">Supprimer mes données</button>
      </div>
    </div>
  </div>

  <div class="container-box">
    <div class="profile">
      <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="150" height="150" viewBox="0 0 920.000000 600.000000" preserveAspectRatio="xMidYMid meet">

        <g transform="translate(0.000000,600.000000) scale(0.100000,-0.100000)" fill="#4285F4" stroke="none">
        <path d="M4330 4723 c-535 -82 -996 -380 -1272 -825 -101 -163 -178 -357 -219 -558 -21 -99 -24 -143 -24 -320 0 -226 8 -287 62 -475 40 -141 144 -362 226 -478 269 -384 661 -641 1123 -736 509 -105 1062 14 1462 316 244 184 401 371 528 628 72 148 113 263 145 415 31 143 34 472 5 625 -140 750 -759 1317 -1546 1414 -117 15 -376 12 -490 -6z m570 -94 c552 -92 1017 -441 1255 -942 201 -423 200 -913 -2 -1347 -51 -111 -169 -290 -246 -375 l-54 -60 -28 55 c-59 116 -151 213 -271 285 -88 53 -145 71 -354 110 -107 20 -205 43 -220 52 -15 9 -39 34 -54 56 -24 38 -26 49 -26 159 0 108 2 120 25 154 30 44 68 160 86 262 10 60 17 75 34 82 17 7 27 25 40 77 10 37 31 110 47 162 33 109 33 135 -1 139 -23 4 -24 5 -17 75 3 40 9 146 12 237 6 140 4 174 -10 225 -23 78 -48 126 -85 161 -32 29 -231 124 -315 149 -101 30 -258 9 -392 -54 -59 -28 -205 -123 -252 -165 -32 -28 -60 -84 -73 -147 -10 -47 -1 -303 17 -436 4 -38 3 -42 -18 -45 -34 -5 -34 -41 1 -155 17 -54 37 -124 46 -155 8 -31 23 -63 33 -70 12 -9 26 -47 41 -113 26 -112 60 -202 90 -241 18 -23 21 -41 21 -133 0 -91 -3 -113 -22 -151 -37 -72 -62 -83 -279 -118 -163 -27 -205 -37 -264 -66 -77 -38 -153 -105 -205 -180 -37 -55 -79 -165 -80 -211 -1 -29 -3 -28 -71 45 -78 83 -192 246 -243 349 -188 374 -222 810 -95 1206 16 50 58 149 94 220 201 404 548 699 992 844 112 37 308 76 418 84 106 7 305 -4 425 -24z"/>
        </g>
        </svg>
      <div class="data-profile">
        <div>Nom</div>
        <div>Prénom</div>
        <div>Mail-user</div>
      </div>
    </div>
    <div class="container-list-notification">
      <div *ngFor="let notification of notifications" class="drug-item">
        <div class="drugs">
          <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet">

            <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="#f1c40f" stroke="none">
            <path d="M2476 4546 c-49 -18 -113 -79 -137 -131 -10 -22 -19 -63 -19 -91 0 -27 -6 -58 -12 -67 -7 -9 -56 -30 -108 -47 -390 -127 -632 -466 -715 -1000 -8 -58 -20 -229 -25 -380 -12 -362 -32 -512 -90 -689 -54 -165 -122 -274 -280 -445 -109 -119 -124 -144 -124 -217 -1 -71 39 -142 99 -173 l40 -21 1461 0 1460 0 41 27 c51 33 81 82 89 142 11 75 -13 119 -145 266 -265 296 -329 500 -351 1130 -6 198 -15 310 -30 399 -54 311 -163 550 -329 725 -114 118 -223 185 -391 240 l-95 31 -12 79 c-15 98 -50 159 -115 199 -57 36 -151 46 -212 23z"/>
            <path d="M2083 1018 c25 -315 264 -502 573 -449 217 38 355 202 380 451 l7 70 -483 0 -483 0 6 -72z"/>
            </g>
            </svg>
          <div class="medicament-details">
            <div>{{ notification.title }}</div>
            <div>{{ notification.body }}</div>
            <div class="id-drug">{{ notification.dateNotification }}</div>
            <a (click)="hrefPrescription(notification.url)">Cliquez ici pour voir la prescription</a>
          </div>
        </div>
      </div>
    </div>
    <button class="btn-export-pdf">Export de données au format pdf</button>
  </div>
</div>
