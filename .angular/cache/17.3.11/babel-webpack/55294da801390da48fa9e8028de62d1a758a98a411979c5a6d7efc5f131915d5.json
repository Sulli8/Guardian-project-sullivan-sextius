{"ast":null,"code":"import _asyncToGenerator from \"/Users/sullivan/Desktop/Guardian-project-sullivan-sextius/Guardian-project-sullivan-sextius/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { CommonModule } from '@angular/common';\nimport { NavBarComponent } from '../nav-bar/nav-bar.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/api.service\";\nimport * as i2 from \"@angular/common\";\nfunction ListDrugsComponent_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const medicament_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(medicament_r1._id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(medicament_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(medicament_r1.description);\n  }\n}\nexport class ListDrugsComponent {\n  apiService;\n  medications = []; // Tableau pour stocker les médicaments\n  constructor(apiService) {\n    this.apiService = apiService;\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.callCheckNotify();\n      // Répéter l'appel toutes les 10 secondes\n      setInterval(() => {\n        _this.callCheckNotify();\n      }, 10000);\n      _this.getMedications();\n    })();\n  }\n  callCheckNotify() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const response = yield _this2.apiService.checkNotify(); // Convertir l'Observable en Promise\n        console.log('Réponse de check-notify', response);\n      } catch (error) {\n        console.error('Erreur lors de l\\'appel à check-notify', error);\n      }\n    })();\n  }\n  getMedications() {\n    this.apiService.getMedications().subscribe(data => {\n      console.log('Médicaments récupérés :', data);\n      this.medications = data; // Affecter les médicaments récupérés\n    }, error => {\n      console.error('Erreur lors de la récupération des médicaments:', error);\n    });\n  }\n  static ɵfac = function ListDrugsComponent_Factory(t) {\n    return new (t || ListDrugsComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListDrugsComponent,\n    selectors: [[\"app-list-drugs\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 13,\n    vars: 1,\n    consts: [[1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"]],\n    template: function ListDrugsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-nav-bar\");\n        i0.ɵɵelementStart(1, \"table\", 0)(2, \"thead\")(3, \"tr\")(4, \"th\");\n        i0.ɵɵtext(5, \"ID\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"th\");\n        i0.ɵɵtext(7, \"Nom\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"th\");\n        i0.ɵɵtext(9, \"Description\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(10, \"tbody\");\n        i0.ɵɵtemplate(11, ListDrugsComponent_tr_11_Template, 7, 3, \"tr\", 1);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(12, \"div\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngForOf\", ctx.medications);\n      }\n    },\n    dependencies: [CommonModule, i2.NgForOf, NavBarComponent],\n    styles: [\"\\n\\napp-nav-bar[_ngcontent-%COMP%] {\\n    margin-bottom: 20px; \\n\\n  }\\n  \\n  \\n\\n  .table[_ngcontent-%COMP%] {\\n    width: 100%;\\n    border-collapse: collapse; \\n\\n    margin-top: 20px; \\n\\n  }\\n  \\n  \\n\\n  .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%] {\\n    background-color: #007bff; \\n\\n    color: white; \\n\\n  }\\n  \\n  .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n    padding: 10px;\\n    text-align: left;\\n    font-size: 16px;\\n  }\\n  \\n  .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n    padding: 10px;\\n    text-align: left;\\n    font-size: 14px;\\n  }\\n  \\n  \\n\\n  .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even) {\\n    background-color: #f2f2f2; \\n\\n  }\\n  \\n  .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover {\\n    background-color: #e9ecef; \\n\\n  }\\n  \\n  \\n\\n  .table[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n    border: 1px solid #ddd; \\n\\n  }\\n  \\n  \\n\\n  .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n    text-align: center; \\n\\n  }\\n  \\n  \\n\\n  @media (max-width: 768px) {\\n    .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%] {\\n      font-size: 14px;\\n    }\\n    .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n      font-size: 12px;\\n      padding: 8px;\\n    }\\n  }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9saXN0LWRydWdzL2xpc3QtZHJ1Z3MuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSx5QkFBeUI7QUFDekI7SUFDSSxtQkFBbUIsRUFBRSx1Q0FBdUM7RUFDOUQ7O0VBRUEsNEJBQTRCO0VBQzVCO0lBQ0UsV0FBVztJQUNYLHlCQUF5QixFQUFFLHlDQUF5QztJQUNwRSxnQkFBZ0IsRUFBRSxnQ0FBZ0M7RUFDcEQ7O0VBRUEsb0NBQW9DO0VBQ3BDO0lBQ0UseUJBQXlCLEVBQUUsd0NBQXdDO0lBQ25FLFlBQVksRUFBRSxtQkFBbUI7RUFDbkM7O0VBRUE7SUFDRSxhQUFhO0lBQ2IsZ0JBQWdCO0lBQ2hCLGVBQWU7RUFDakI7O0VBRUE7SUFDRSxhQUFhO0lBQ2IsZ0JBQWdCO0lBQ2hCLGVBQWU7RUFDakI7O0VBRUEsdUNBQXVDO0VBQ3ZDO0lBQ0UseUJBQXlCLEVBQUUsMkNBQTJDO0VBQ3hFOztFQUVBO0lBQ0UseUJBQXlCLEVBQUUsOEJBQThCO0VBQzNEOztFQUVBLHVDQUF1QztFQUN2QztJQUNFLHNCQUFzQixFQUFFLHFCQUFxQjtFQUMvQzs7RUFFQSx1QkFBdUI7RUFDdkI7SUFDRSxrQkFBa0IsRUFBRSx5Q0FBeUM7RUFDL0Q7O0VBRUEsNkNBQTZDO0VBQzdDO0lBQ0U7TUFDRSxlQUFlO0lBQ2pCO0lBQ0E7TUFDRSxlQUFlO01BQ2YsWUFBWTtJQUNkO0VBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBTdHlsZSBwb3VyIGxlIE5hdkJhciAqL1xuYXBwLW5hdi1iYXIge1xuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7IC8qIEVzcGFjZSBzb3VzIGxhIGJhcnJlIGRlIG5hdmlnYXRpb24gKi9cbiAgfVxuICBcbiAgLyogU3R5bGUgZ2xvYmFsIGR1IHRhYmxlYXUgKi9cbiAgLnRhYmxlIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOyAvKiDDg8KJdml0ZSBsZXMgZXNwYWNlcyBlbnRyZSBsZXMgY2VsbHVsZXMgKi9cbiAgICBtYXJnaW4tdG9wOiAyMHB4OyAvKiBFc3BhY2UgYXUtZGVzc3VzIGR1IHRhYmxlYXUgKi9cbiAgfVxuICBcbiAgLyogU3R5bGUgcG91ciBsJ2VuLXTDg8KqdGUgZHUgdGFibGVhdSAqL1xuICAudGFibGUgdGhlYWQge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDdiZmY7IC8qIENvdWxldXIgZGUgZm9uZCBibGV1IHBvdXIgbCdlbi10w4PCqnRlICovXG4gICAgY29sb3I6IHdoaXRlOyAvKiBUZXh0ZSBlbiBibGFuYyAqL1xuICB9XG4gIFxuICAudGFibGUgdGgge1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gIH1cbiAgXG4gIC50YWJsZSB0ZCB7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgfVxuICBcbiAgLyogU3R5bGUgcG91ciBjaGFxdWUgbGlnbmUgZHUgdGFibGVhdSAqL1xuICAudGFibGUgdGJvZHkgdHI6bnRoLWNoaWxkKGV2ZW4pIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyOyAvKiBDb3VsZXVyIGRlIGZvbmQgcG91ciBsZXMgbGlnbmVzIHBhaXJlcyAqL1xuICB9XG4gIFxuICAudGFibGUgdGJvZHkgdHI6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNlOWVjZWY7IC8qIEZvbmQgZ3JpcyBjbGFpciBhdSBzdXJ2b2wgKi9cbiAgfVxuICBcbiAgLyogU3R5bGUgcG91ciBsZXMgYm9yZHVyZXMgZHUgdGFibGVhdSAqL1xuICAudGFibGUsIC50YWJsZSB0aCwgLnRhYmxlIHRkIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyAvKiBCb3JkdXJlcyBsw4PCqWfDg8KocmVzICovXG4gIH1cbiAgXG4gIC8qIFN0eWxlIGRlcyBjZWxsdWxlcyAqL1xuICAudGFibGUgdGQsIC50YWJsZSB0aCB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyOyAvKiBDZW50cmVyIGxlIHRleHRlIGRhbnMgY2hhcXVlIGNlbGx1bGUgKi9cbiAgfVxuICBcbiAgLyogU3R5bGUgZGUgbGEgdGFibGUgcG91ciBsZXMgcGV0aXRzIMODwqljcmFucyAqL1xuICBAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgICAudGFibGUgdGhlYWQge1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgIH1cbiAgICAudGFibGUgdGQsIC50YWJsZSB0aCB7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBwYWRkaW5nOiA4cHg7XG4gICAgfVxuICB9XG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["CommonModule","NavBarComponent","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","medicament_r1","_id","name","description","ListDrugsComponent","apiService","medications","constructor","ngOnInit","_this","_asyncToGenerator","callCheckNotify","setInterval","getMedications","_this2","response","checkNotify","console","log","error","subscribe","data","ɵɵdirectiveInject","i1","ApiService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ListDrugsComponent_Template","rf","ctx","ɵɵelement","ɵɵtemplate","ListDrugsComponent_tr_11_Template","ɵɵproperty","i2","NgForOf","styles"],"sources":["/Users/sullivan/Desktop/Guardian-project-sullivan-sextius/Guardian-project-sullivan-sextius/src/app/components/list-drugs/list-drugs.component.ts","/Users/sullivan/Desktop/Guardian-project-sullivan-sextius/Guardian-project-sullivan-sextius/src/app/components/list-drugs/list-drugs.component.html"],"sourcesContent":["import { Component, NgModule, OnInit } from '@angular/core';\nimport { ApiService } from '../../../services/api.service'; // Importez votre service\nimport { CommonModule } from '@angular/common';\nimport { NavBarComponent } from '../nav-bar/nav-bar.component';\n\n@Component({\n  selector: 'app-list-drugs',\n  templateUrl: './list-drugs.component.html',\n  styleUrls: ['./list-drugs.component.css'],\n  standalone:true,\n  imports:[CommonModule,NavBarComponent]\n})\nexport class ListDrugsComponent implements OnInit {\n\n  medications: any[] = []; // Tableau pour stocker les médicaments\n\n  constructor(private apiService: ApiService) {}\n\n  async ngOnInit() {\n    this.callCheckNotify();\n    // Répéter l'appel toutes les 10 secondes\n    setInterval(() => {\n      this.callCheckNotify();\n    }, 10000);\n    this.getMedications();\n  }\n  \n  async callCheckNotify() {\n    try {\n      const response = await this.apiService.checkNotify(); // Convertir l'Observable en Promise\n      console.log('Réponse de check-notify', response);\n    } catch (error) {\n      console.error('Erreur lors de l\\'appel à check-notify', error);\n    }\n  }\n\n  getMedications(): void {\n    this.apiService.getMedications().subscribe(\n      (data) => {\n        console.log('Médicaments récupérés :', data);\n        this.medications = data;  // Affecter les médicaments récupérés\n      },\n      (error) => {\n        console.error('Erreur lors de la récupération des médicaments:', error);\n      }\n    );\n  }\n}\n","<app-nav-bar></app-nav-bar>\n<table class=\"table table-striped\">\n    <thead>\n      <tr>\n        <th>ID</th>\n        <th>Nom</th>\n        <th>Description</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let medicament of medications\">\n        <td>{{ medicament._id }}</td>\n        <td>{{ medicament.name }}</td>\n        <td>{{ medicament.description }}</td>\n      </tr>\n    </tbody>\n  </table>\n\n  <div>\n    \n  </div>\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}