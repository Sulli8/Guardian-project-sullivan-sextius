{"ast":null,"code":"import { NgClass, NgIf } from '@angular/common';\nimport { HighlightModule } from 'ngx-highlightjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/api.service\";\nimport * as i2 from \"@auth0/auth0-angular\";\nimport * as i3 from \"ngx-highlightjs\";\nconst _c0 = a0 => ({\n  show: a0\n});\nfunction ExternalApiComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtext(1, \" An error occured when trying to call the local API on port 3001. Ensure the local API is started using either `npm run dev` or `npm run server:api`. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ExternalApiComponent_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 8)(2, \"p\");\n    i0.ɵɵtext(3, \" You can't call the API at the moment because your application does not have any configuration for \");\n    i0.ɵɵelementStart(4, \"code\");\n    i0.ɵɵtext(5, \"audience\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \", or it is using the default value of \");\n    i0.ɵɵelementStart(7, \"code\");\n    i0.ɵɵtext(8, \"YOUR_API_IDENTIFIER\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \". You might get this default value if you used the \\\"Download Sample\\\" feature of \");\n    i0.ɵɵelementStart(10, \"a\", 9);\n    i0.ɵɵtext(11, \" the quickstart guide \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \", but have not set an API up in your Auth0 Tenant. You can find out more information on \");\n    i0.ɵɵelementStart(13, \"a\", 10);\n    i0.ɵɵtext(14, \"setting up APIs\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \" in the Auth0 Docs. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\");\n    i0.ɵɵtext(17, \" The audience is the identifier of the API that you want to call (see \");\n    i0.ɵɵelementStart(18, \"a\", 11);\n    i0.ɵɵtext(19, \" API Authorization Settings \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \" for more info). \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"p\");\n    i0.ɵɵtext(22, \" In this sample, you can configure the audience by specifying it in the \");\n    i0.ɵɵelementStart(23, \"code\");\n    i0.ɵɵtext(24, \"auth_config.json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \" file (see the \");\n    i0.ɵɵelementStart(26, \"code\");\n    i0.ɵɵtext(27, \"auth_config.json.example\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28, \" file for an example of where it should go) \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"p\");\n    i0.ɵɵtext(30, \" Once you have configured the value for \");\n    i0.ɵɵelementStart(31, \"code\");\n    i0.ɵɵtext(32, \"audience\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(33, \", please restart the app and try to use the \\\"Ping API\\\" button below. \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction ExternalApiComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 13)(2, \"h6\", 14);\n    i0.ɵɵtext(3, \"Result\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"pre\");\n    i0.ɵɵtext(5, \"        \");\n    i0.ɵɵelement(6, \"code\", 15);\n    i0.ɵɵtext(7, \"\\n      \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c0, !!ctx_r0.responseJson));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"highlight\", ctx_r0.responseJson);\n  }\n}\nexport class ExternalApiComponent {\n  api;\n  configFactory;\n  responseJson;\n  audience;\n  hasApiError = false;\n  constructor(api, configFactory) {\n    this.api = api;\n    this.configFactory = configFactory;\n    this.audience = this.configFactory.get()?.authorizationParams.audience;\n  }\n  pingApi() {\n    this.api.ping$().subscribe({\n      next: res => {\n        this.hasApiError = false;\n        this.responseJson = JSON.stringify(res, null, 2).trim();\n      },\n      error: () => this.hasApiError = true\n    });\n  }\n  static ɵfac = function ExternalApiComponent_Factory(t) {\n    return new (t || ExternalApiComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.AuthClientConfig));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ExternalApiComponent,\n    selectors: [[\"app-external-api\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 20,\n    vars: 4,\n    consts: [[1, \"container\", \"mt-5\"], [\"class\", \"alert alert-danger\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"lead\"], [4, \"ngIf\"], [1, \"mb-5\"], [1, \"btn\", \"btn-primary\", \"mb-5\", 3, \"click\", \"disabled\"], [\"class\", \"result-block-container\", 4, \"ngIf\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"], [\"role\", \"alert\", 1, \"alert\", \"alert-warning\"], [\"href\", \"https://auth0.com/docs/quickstart/spa/angular\"], [\"href\", \"https://auth0.com/docs/api\"], [\"href\", \"https://auth0.com/docs/get-started/dashboard/tenant-settings#api-authorization-settings\"], [1, \"result-block-container\"], [1, \"result-block\", 3, \"ngClass\"], [1, \"muted\"], [1, \"js\", \"rounded\", 3, \"highlight\"]],\n    template: function ExternalApiComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n        i0.ɵɵtext(2, \"External API\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, ExternalApiComponent_div_3_Template, 2, 0, \"div\", 1);\n        i0.ɵɵelementStart(4, \"p\", 2);\n        i0.ɵɵtext(5, \"Ping an external API by clicking the button below.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"p\");\n        i0.ɵɵtext(7, \" This will call a local API on port 3001 that would have been started if you run \");\n        i0.ɵɵelementStart(8, \"code\");\n        i0.ɵɵtext(9, \"npm run dev\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(10, \" (or \");\n        i0.ɵɵelementStart(11, \"code\");\n        i0.ɵɵtext(12, \"npm run server:api\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(13, \"). An access token is sent as part of the request's `Authorization` header and the API will validate it using the API's audience value. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(14, ExternalApiComponent_ng_container_14_Template, 34, 0, \"ng-container\", 3);\n        i0.ɵɵelementStart(15, \"p\", 4);\n        i0.ɵɵtext(16, \" Ping an external API by clicking the button below. This will call the external API using an access token, and the API will validate it using the API's audience value. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function ExternalApiComponent_Template_button_click_17_listener() {\n          return ctx.pingApi();\n        });\n        i0.ɵɵtext(18, \" Ping API \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(19, ExternalApiComponent_div_19_Template, 8, 4, \"div\", 6);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasApiError);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngIf\", !ctx.audience);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", !ctx.audience);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.responseJson);\n      }\n    },\n    dependencies: [HighlightModule, i3.Highlight, NgClass, NgIf],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["NgClass","NgIf","HighlightModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelementContainerStart","ɵɵelement","ɵɵadvance","ɵɵproperty","ɵɵpureFunction1","_c0","ctx_r0","responseJson","ExternalApiComponent","api","configFactory","audience","hasApiError","constructor","get","authorizationParams","pingApi","ping$","subscribe","next","res","JSON","stringify","trim","error","ɵɵdirectiveInject","i1","ApiService","i2","AuthClientConfig","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ExternalApiComponent_Template","rf","ctx","ɵɵtemplate","ExternalApiComponent_div_3_Template","ExternalApiComponent_ng_container_14_Template","ɵɵlistener","ExternalApiComponent_Template_button_click_17_listener","ExternalApiComponent_div_19_Template","i3","Highlight","styles"],"sources":["/Users/sullivan/Desktop/Guardian-project-sullivan-sextius/Guardian-project-sullivan-sextius/src/app/pages/external-api/external-api.component.ts","/Users/sullivan/Desktop/Guardian-project-sullivan-sextius/Guardian-project-sullivan-sextius/src/app/pages/external-api/external-api.component.html"],"sourcesContent":["import { NgClass, NgIf } from '@angular/common';\nimport { Component } from '@angular/core';\nimport { AuthClientConfig } from '@auth0/auth0-angular';\nimport { HighlightModule } from 'ngx-highlightjs';\nimport { ApiService } from 'src/app/api.service';\n\n@Component({\n  selector: 'app-external-api',\n  templateUrl: './external-api.component.html',\n  styleUrls: ['./external-api.component.css'],\n  standalone: true,\n  imports: [HighlightModule, NgClass, NgIf]\n})\nexport class ExternalApiComponent {\n  responseJson: string;\n  audience: string | undefined;\n  hasApiError = false;\n\n  constructor(\n    private api: ApiService,\n    private configFactory: AuthClientConfig\n  ) {\n    this.audience = this.configFactory.get()?.authorizationParams.audience;\n  }\n\n  pingApi() {\n    this.api.ping$().subscribe({\n      next: (res) => {\n        this.hasApiError = false;\n        this.responseJson = JSON.stringify(res, null, 2).trim();\n      },\n      error: () => this.hasApiError = true,\n    });\n  }\n}\n","<div class=\"container mt-5\">\n  <h1>External API</h1>\n  \n  <div *ngIf=\"hasApiError\" class=\"alert alert-danger\" role=\"alert\">\n    An error occured when trying to call the local API on port 3001. Ensure the local API is started using either `npm run dev` or `npm run\n    server:api`.\n  </div>\n\n  <p class=\"lead\">Ping an external API by clicking the button below.</p>\n\n  <p>\n    This will call a local API on port 3001 that would have been started if you\n    run <code>npm run dev</code> (or <code>npm run server:api</code>). An access token is sent as part of the\n    request's `Authorization` header and the API will validate it using the\n    API's audience value.\n  </p>\n\n  <ng-container *ngIf=\"!audience\">\n    <div class=\"alert alert-warning\" role=\"alert\">\n      <p>\n        You can't call the API at the moment because your application does not\n        have any configuration for <code>audience</code>, or it is using the\n        default value of <code>YOUR_API_IDENTIFIER</code>. You might get this\n        default value if you used the \"Download Sample\" feature of\n        <a href=\"https://auth0.com/docs/quickstart/spa/angular\">\n          the quickstart guide </a\n        >, but have not set an API up in your Auth0 Tenant. You can find out\n        more information on\n        <a href=\"https://auth0.com/docs/api\">setting up APIs</a> in the Auth0\n        Docs.\n      </p>\n      <p>\n        The audience is the identifier of the API that you want to call (see\n        <a\n          href=\"https://auth0.com/docs/get-started/dashboard/tenant-settings#api-authorization-settings\"\n        >\n          API Authorization Settings\n        </a>\n        for more info).\n      </p>\n\n      <p>\n        In this sample, you can configure the audience by specifying it in the\n        <code>auth_config.json</code> file (see the\n        <code>auth_config.json.example</code> file for an example of where it\n        should go)\n      </p>\n      <p>\n        Once you have configured the value for <code>audience</code>, please\n        restart the app and try to use the \"Ping API\" button below.\n      </p>\n    </div>\n  </ng-container>\n\n  <p class=\"mb-5\">\n    Ping an external API by clicking the button below. This will call the\n    external API using an access token, and the API will validate it using the\n    API's audience value.\n  </p>\n\n  <button\n    class=\"btn btn-primary mb-5\"\n    [disabled]=\"!audience\"\n    (click)=\"pingApi()\"\n  >\n    Ping API\n  </button>\n\n  <div class=\"result-block-container\" *ngIf=\"responseJson\">\n    <div class=\"result-block\" [ngClass]=\"{ show: !!responseJson }\">\n      <h6 class=\"muted\">Result</h6>\n      <pre>\n        <code class=\"js rounded\" [highlight]=\"responseJson\"></code>\n      </pre>\n    </div>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}