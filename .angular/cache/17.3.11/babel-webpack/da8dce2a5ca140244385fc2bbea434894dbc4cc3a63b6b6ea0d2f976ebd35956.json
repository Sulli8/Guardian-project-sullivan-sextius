{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { trigger, transition, style, animate } from '@angular/animations';\nlet WizardComponent = class WizardComponent {\n  router;\n  apiService;\n  title = '';\n  onSubmit = new EventEmitter();\n  currentStep = 0;\n  responses = {};\n  steps;\n  constructor(router, apiService) {\n    this.router = router;\n    this.apiService = apiService;\n  }\n  ngOnInit() {\n    this.apiService.getQuestions().subscribe(questions => {\n      this.steps = this.organizeQuestionsByStep(questions);\n    });\n  }\n  organizeQuestionsByStep(questions) {\n    const steps = [];\n    questions.questions.forEach(question => {\n      steps.push({\n        step: steps.length + 1,\n        questions: [question]\n      });\n    });\n    return steps;\n  }\n  goToStep(index) {\n    if (index >= 0 && index < this.steps.length) {\n      this.currentStep = index;\n    }\n  }\n  nextStep() {\n    if (this.currentStep < this.steps.length - 1) {\n      this.currentStep++;\n    }\n  }\n  previousStep() {\n    if (this.currentStep > 0) {\n      this.currentStep--;\n    }\n  }\n  submitWizard() {\n    const formattedResponses = this.formatResponses(this.responses);\n    this.apiService.submitResponses(formattedResponses).subscribe(response => {\n      this.router.navigate(['/home-page']);\n      this.onSubmit.emit({\n        success: true,\n        response\n      });\n    }, error => {\n      this.onSubmit.emit({\n        success: false,\n        error\n      });\n    });\n  }\n  formatResponses(responses) {\n    return Object.keys(responses).map(key => ({\n      questionId: key,\n      response: responses[key]\n    }));\n  }\n};\n__decorate([Input()], WizardComponent.prototype, \"title\", void 0);\n__decorate([Output()], WizardComponent.prototype, \"onSubmit\", void 0);\n__decorate([Input()], WizardComponent.prototype, \"steps\", void 0);\nWizardComponent = __decorate([Component({\n  selector: 'app-wizard',\n  templateUrl: './wizard.component.html',\n  styleUrls: ['./wizard.component.css'],\n  standalone: true,\n  imports: [FormsModule, RadioButtonModule, ButtonModule, InputTextModule, SpinnerModule],\n  animations: [trigger('slideInOut', [transition(':enter', [style({\n    transform: 'translateX(100%)',\n    opacity: 0\n  }), animate('300ms ease-in', style({\n    transform: 'translateX(0)',\n    opacity: 1\n  }))]), transition(':leave', [animate('300ms ease-out', style({\n    transform: 'translateX(-100%)',\n    opacity: 0\n  }))])])]\n})], WizardComponent);\nexport { WizardComponent };","map":{"version":3,"names":["Component","Input","Output","EventEmitter","trigger","transition","style","animate","WizardComponent","router","apiService","title","onSubmit","currentStep","responses","steps","constructor","ngOnInit","getQuestions","subscribe","questions","organizeQuestionsByStep","forEach","question","push","step","length","goToStep","index","nextStep","previousStep","submitWizard","formattedResponses","formatResponses","submitResponses","response","navigate","emit","success","error","Object","keys","map","key","questionId","__decorate","selector","templateUrl","styleUrls","standalone","imports","FormsModule","RadioButtonModule","ButtonModule","InputTextModule","SpinnerModule","animations","transform","opacity"],"sources":["/Users/sullivan/Desktop/Guardian-project-sullivan-sextius/Guardian-project-sullivan-sextius/src/app/components/wizard/wizard.component.ts"],"sourcesContent":["import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { trigger, transition, style, animate } from '@angular/animations';\nimport { Router } from '@angular/router';\nimport { ApiService } from 'src/services/api.service';\n\n@Component({\n  selector: 'app-wizard',\n  templateUrl: './wizard.component.html',\n  styleUrls: ['./wizard.component.css'],\n  standalone: true,\n  imports: [\n    FormsModule,\n    RadioButtonModule,\n    ButtonModule,\n    InputTextModule,\n    SpinnerModule,\n  ],\n  animations: [\n    trigger('slideInOut', [\n      transition(':enter', [\n        style({ transform: 'translateX(100%)', opacity: 0 }),\n        animate('300ms ease-in', style({ transform: 'translateX(0)', opacity: 1 })),\n      ]),\n      transition(':leave', [\n        animate('300ms ease-out', style({ transform: 'translateX(-100%)', opacity: 0 })),\n      ]),\n    ]),\n  ],\n})\nexport class WizardComponent {\n  @Input() title: string = '';\n  @Output() onSubmit = new EventEmitter<any>();\n\n  currentStep = 0;\n  responses: { [key: number]: any } = {};\n  @Input() steps: any[];\n\n  constructor(private router: Router, private apiService: ApiService) {}\n\n  ngOnInit() {\n    this.apiService.getQuestions().subscribe((questions) => {\n      this.steps = this.organizeQuestionsByStep(questions);\n    });\n  }\n\n  organizeQuestionsByStep(questions) {\n    const steps = [];\n    questions.questions.forEach((question) => {\n      steps.push({ step: steps.length + 1, questions: [question] });\n    });\n    return steps;\n  }\n\n  goToStep(index: number) {\n    if (index >= 0 && index < this.steps.length) {\n      this.currentStep = index;\n    }\n  }\n\n  nextStep() {\n    if (this.currentStep < this.steps.length - 1) {\n      this.currentStep++;\n    }\n  }\n\n  previousStep() {\n    if (this.currentStep > 0) {\n      this.currentStep--;\n    }\n  }\n\n  submitWizard() {\n    const formattedResponses = this.formatResponses(this.responses);\n    this.apiService.submitResponses(formattedResponses).subscribe(\n      (response) => {\n        this.router.navigate(['/home-page']);\n        this.onSubmit.emit({ success: true, response });\n      },\n      (error) => {\n        this.onSubmit.emit({ success: false, error });\n      }\n    );\n  }\n\n  formatResponses(responses: any) {\n    return Object.keys(responses).map((key) => ({\n      questionId: key,\n      response: responses[key],\n    }));\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}