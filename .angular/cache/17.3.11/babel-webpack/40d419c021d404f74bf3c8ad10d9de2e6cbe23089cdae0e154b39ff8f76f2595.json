{"ast":null,"code":"import _asyncToGenerator from \"/Users/sullivan/Desktop/Guardian-project-sullivan-sextius/Guardian-project-sullivan-sextius/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { CommonModule } from '@angular/common';\nimport { NavBarComponent } from '../nav-bar/nav-bar.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/api.service\";\nimport * as i2 from \"@angular/common\";\nfunction ListDrugsComponent_div_2_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 9);\n  }\n}\nfunction ListDrugsComponent_div_2_img_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 10);\n  }\n}\nfunction ListDrugsComponent_div_2_img_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 11);\n  }\n}\nfunction ListDrugsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3);\n    i0.ɵɵtemplate(2, ListDrugsComponent_div_2_img_2_Template, 1, 0, \"img\", 4)(3, ListDrugsComponent_div_2_img_3_Template, 1, 0, \"img\", 5)(4, ListDrugsComponent_div_2_img_4_Template, 1, 0, \"img\", 6);\n    i0.ɵɵelementStart(5, \"div\", 7)(6, \"div\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 8);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const medicament_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", medicament_r1.type === \"comprime\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", medicament_r1.type === \"gellule\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", medicament_r1.type === \"topique\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(medicament_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(medicament_r1.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(medicament_r1._id);\n  }\n}\nexport let ListDrugsComponent = /*#__PURE__*/(() => {\n  class ListDrugsComponent {\n    apiService;\n    medications = []; // Tableau pour stocker les médicaments\n    constructor(apiService) {\n      this.apiService = apiService;\n    }\n    ngOnInit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        _this.callCheckNotify();\n        // Répéter l'appel toutes les 10 secondes\n        setInterval(() => {\n          _this.callCheckNotify();\n        }, 10000);\n        _this.getMedications();\n      })();\n    }\n    callCheckNotify() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          const response = yield _this2.apiService.checkNotify(); // Convertir l'Observable en Promise\n          console.log('Réponse de check-notify', response);\n        } catch (error) {\n          console.error('Erreur lors de l\\'appel à check-notify', error);\n        }\n      })();\n    }\n    getMedications() {\n      this.apiService.getMedications().subscribe(data => {\n        console.log('Médicaments récupérés :', data);\n        this.medications = data; // Affecter les médicaments récupérés\n      }, error => {\n        console.error('Erreur lors de la récupération des médicaments:', error);\n      });\n    }\n    static ɵfac = function ListDrugsComponent_Factory(t) {\n      return new (t || ListDrugsComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ListDrugsComponent,\n      selectors: [[\"app-list-drugs\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 3,\n      vars: 1,\n      consts: [[1, \"container-drugs\"], [\"class\", \"drug-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"drug-item\"], [1, \"drugs\"], [\"class\", \"img-drugs\", \"src\", \"../../../assets/icons/icon-comprime.png\", \"alt\", \"Image comprim\\u00E9\", 4, \"ngIf\"], [\"class\", \"img-drugs\", \"src\", \"../../../assets/icons/icon-gellule.png\", \"alt\", \"Image g\\u00E9lule\", 4, \"ngIf\"], [\"class\", \"img-drugs\", \"src\", \"../../../assets/icons/icon-topique.png\", \"alt\", \"Image topique\", 4, \"ngIf\"], [1, \"medicament-details\"], [1, \"id-drug\"], [\"src\", \"../../../assets/icons/icon-comprime.png\", \"alt\", \"Image comprim\\u00E9\", 1, \"img-drugs\"], [\"src\", \"../../../assets/icons/icon-gellule.png\", \"alt\", \"Image g\\u00E9lule\", 1, \"img-drugs\"], [\"src\", \"../../../assets/icons/icon-topique.png\", \"alt\", \"Image topique\", 1, \"img-drugs\"]],\n      template: function ListDrugsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelement(0, \"app-nav-bar\");\n          i0.ɵɵelementStart(1, \"div\", 0);\n          i0.ɵɵtemplate(2, ListDrugsComponent_div_2_Template, 12, 6, \"div\", 1);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.medications);\n        }\n      },\n      dependencies: [CommonModule, i2.NgForOf, i2.NgIf, NavBarComponent],\n      styles: [\"app-nav-bar[_ngcontent-%COMP%]{margin-bottom:20px}.container-drugs[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;gap:20px;height:90vh;overflow-y:auto;overflow-x:hidden}.drug-item[_ngcontent-%COMP%]{width:30%;box-sizing:border-box}.img-drugs[_ngcontent-%COMP%]{width:100%;height:auto;display:block;border-top-left-radius:10px;border-bottom-left-radius:10px}.medicament-details[_ngcontent-%COMP%]{padding:10px;margin-top:10px}@media (max-width: 1200px){.drug-item[_ngcontent-%COMP%]{width:48%}}@media (max-width: 768px){.container-drugs[_ngcontent-%COMP%]{justify-content:center}.drugs[_ngcontent-%COMP%], .drug-item[_ngcontent-%COMP%]{width:100%}}.img-drugs[_ngcontent-%COMP%]{width:100px;height:100px}.id-drug[_ngcontent-%COMP%]{color:#4285f4}.drugs[_ngcontent-%COMP%]{display:flex;justify-content:left;font-weight:100;background-color:#2c2c2e;height:100px;width:340px;border-radius:10px;color:#fff}\"]\n    });\n  }\n  return ListDrugsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}