{"ast":null,"code":"import { NgClass, NgIf } from '@angular/common';\nimport { HighlightModule } from 'ngx-highlightjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/api.service\";\nimport * as i2 from \"@auth0/auth0-angular\";\nimport * as i3 from \"ngx-highlightjs\";\nconst _c0 = a0 => ({\n  show: a0\n});\nfunction ExternalApiComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtext(1, \" An error occured when trying to call the local API on port 3001. Ensure the local API is started using either `npm run dev` or `npm run server:api`. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ExternalApiComponent_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 8)(2, \"p\");\n    i0.ɵɵtext(3, \" You can't call the API at the moment because your application does not have any configuration for \");\n    i0.ɵɵelementStart(4, \"code\");\n    i0.ɵɵtext(5, \"audience\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \", or it is using the default value of \");\n    i0.ɵɵelementStart(7, \"code\");\n    i0.ɵɵtext(8, \"YOUR_API_IDENTIFIER\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \". You might get this default value if you used the \\\"Download Sample\\\" feature of \");\n    i0.ɵɵelementStart(10, \"a\", 9);\n    i0.ɵɵtext(11, \" the quickstart guide \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \", but have not set an API up in your Auth0 Tenant. You can find out more information on \");\n    i0.ɵɵelementStart(13, \"a\", 10);\n    i0.ɵɵtext(14, \"setting up APIs\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \" in the Auth0 Docs. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\");\n    i0.ɵɵtext(17, \" The audience is the identifier of the API that you want to call (see \");\n    i0.ɵɵelementStart(18, \"a\", 11);\n    i0.ɵɵtext(19, \" API Authorization Settings \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \" for more info). \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"p\");\n    i0.ɵɵtext(22, \" In this sample, you can configure the audience by specifying it in the \");\n    i0.ɵɵelementStart(23, \"code\");\n    i0.ɵɵtext(24, \"auth_config.json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \" file (see the \");\n    i0.ɵɵelementStart(26, \"code\");\n    i0.ɵɵtext(27, \"auth_config.json.example\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28, \" file for an example of where it should go) \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"p\");\n    i0.ɵɵtext(30, \" Once you have configured the value for \");\n    i0.ɵɵelementStart(31, \"code\");\n    i0.ɵɵtext(32, \"audience\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(33, \", please restart the app and try to use the \\\"Ping API\\\" button below. \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction ExternalApiComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 13)(2, \"h6\", 14);\n    i0.ɵɵtext(3, \"Result\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"pre\");\n    i0.ɵɵtext(5, \"        \");\n    i0.ɵɵelement(6, \"code\", 15);\n    i0.ɵɵtext(7, \"\\n      \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c0, !!ctx_r0.responseJson));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"highlight\", ctx_r0.responseJson);\n  }\n}\nexport let ExternalApiComponent = /*#__PURE__*/(() => {\n  class ExternalApiComponent {\n    api;\n    configFactory;\n    responseJson;\n    audience;\n    hasApiError = false;\n    constructor(api, configFactory) {\n      this.api = api;\n      this.configFactory = configFactory;\n      this.audience = this.configFactory.get()?.authorizationParams.audience;\n    }\n    pingApi() {\n      this.api.ping$().subscribe({\n        next: res => {\n          this.hasApiError = false;\n          this.responseJson = JSON.stringify(res, null, 2).trim();\n        },\n        error: () => this.hasApiError = true\n      });\n    }\n    static ɵfac = function ExternalApiComponent_Factory(t) {\n      return new (t || ExternalApiComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.AuthClientConfig));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ExternalApiComponent,\n      selectors: [[\"app-external-api\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 20,\n      vars: 4,\n      consts: [[1, \"container\", \"mt-5\"], [\"class\", \"alert alert-danger\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"lead\"], [4, \"ngIf\"], [1, \"mb-5\"], [1, \"btn\", \"btn-primary\", \"mb-5\", 3, \"click\", \"disabled\"], [\"class\", \"result-block-container\", 4, \"ngIf\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"], [\"role\", \"alert\", 1, \"alert\", \"alert-warning\"], [\"href\", \"https://auth0.com/docs/quickstart/spa/angular\"], [\"href\", \"https://auth0.com/docs/api\"], [\"href\", \"https://auth0.com/docs/get-started/dashboard/tenant-settings#api-authorization-settings\"], [1, \"result-block-container\"], [1, \"result-block\", 3, \"ngClass\"], [1, \"muted\"], [1, \"js\", \"rounded\", 3, \"highlight\"]],\n      template: function ExternalApiComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n          i0.ɵɵtext(2, \"External API\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, ExternalApiComponent_div_3_Template, 2, 0, \"div\", 1);\n          i0.ɵɵelementStart(4, \"p\", 2);\n          i0.ɵɵtext(5, \"Ping an external API by clicking the button below.\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"p\");\n          i0.ɵɵtext(7, \" This will call a local API on port 3001 that would have been started if you run \");\n          i0.ɵɵelementStart(8, \"code\");\n          i0.ɵɵtext(9, \"npm run dev\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(10, \" (or \");\n          i0.ɵɵelementStart(11, \"code\");\n          i0.ɵɵtext(12, \"npm run server:api\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(13, \"). An access token is sent as part of the request's `Authorization` header and the API will validate it using the API's audience value. \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(14, ExternalApiComponent_ng_container_14_Template, 34, 0, \"ng-container\", 3);\n          i0.ɵɵelementStart(15, \"p\", 4);\n          i0.ɵɵtext(16, \" Ping an external API by clicking the button below. This will call the external API using an access token, and the API will validate it using the API's audience value. \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"button\", 5);\n          i0.ɵɵlistener(\"click\", function ExternalApiComponent_Template_button_click_17_listener() {\n            return ctx.pingApi();\n          });\n          i0.ɵɵtext(18, \" Ping API \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(19, ExternalApiComponent_div_19_Template, 8, 4, \"div\", 6);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.hasApiError);\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"ngIf\", !ctx.audience);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"disabled\", !ctx.audience);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.responseJson);\n        }\n      },\n      dependencies: [HighlightModule, i3.Highlight, NgClass, NgIf]\n    });\n  }\n  return ExternalApiComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}