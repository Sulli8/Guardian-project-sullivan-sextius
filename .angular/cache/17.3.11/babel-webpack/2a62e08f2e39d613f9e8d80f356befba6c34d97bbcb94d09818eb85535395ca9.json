{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, Validators } from '@angular/forms';\nimport { NavBarComponent } from '../nav-bar/nav-bar.component';\nimport { SweetAlert2Module } from '@sweetalert2/ngx-sweetalert2';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"src/services/api.service\";\nimport * as i4 from \"@angular/common\";\nfunction PrescriptionFormComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"img\", 5);\n    i0.ɵɵelementStart(2, \"label\", 6);\n    i0.ɵɵtext(3, \"Nom du traitement\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 7);\n    i0.ɵɵelementStart(5, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function PrescriptionFormComponent_div_3_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.nextStep());\n    });\n    i0.ɵɵtext(6, \"Suivant\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction PrescriptionFormComponent_div_4_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" La fr\\u00E9quence est requise. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PrescriptionFormComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"img\", 5);\n    i0.ɵɵelementStart(2, \"label\", 10);\n    i0.ɵɵtext(3, \"R\\u00E9currence\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"select\", 11)(5, \"option\", 12);\n    i0.ɵɵtext(6, \"1 fois par jour\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"option\", 13);\n    i0.ɵɵtext(8, \"2 fois par jour\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"option\", 14);\n    i0.ɵɵtext(10, \"Toutes les 30 secondes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"option\", 15);\n    i0.ɵɵtext(12, \"Toutes les 10 minutes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"option\", 16);\n    i0.ɵɵtext(14, \"Toutes les 4 heures\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"option\", 17);\n    i0.ɵɵtext(16, \"Toutes les 8 heures\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"option\", 18);\n    i0.ɵɵtext(18, \"Toutes les 12 heures\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(19, PrescriptionFormComponent_div_4_div_19_Template, 2, 0, \"div\", 19);\n    i0.ɵɵelementStart(20, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function PrescriptionFormComponent_div_4_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.nextStep());\n    });\n    i0.ɵɵtext(21, \"Suivant\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx_r1.prescriptionForm.get(\"frequence\")) == null ? null : tmp_1_0.invalid) && ((tmp_1_0 = ctx_r1.prescriptionForm.get(\"frequence\")) == null ? null : tmp_1_0.touched));\n  }\n}\nfunction PrescriptionFormComponent_div_5_option_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const medication_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", medication_r5._id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", medication_r5.name, \" \");\n  }\n}\nfunction PrescriptionFormComponent_div_5_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" Vous devez s\\u00E9lectionner un m\\u00E9dicament. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PrescriptionFormComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"img\", 5);\n    i0.ɵɵelementStart(2, \"label\", 21);\n    i0.ɵɵtext(3, \"Medication\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"select\", 22)(5, \"option\", 23);\n    i0.ɵɵtext(6, \"Select a medication\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, PrescriptionFormComponent_div_5_option_7_Template, 2, 2, \"option\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, PrescriptionFormComponent_div_5_div_8_Template, 2, 0, \"div\", 19);\n    i0.ɵɵelementStart(9, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function PrescriptionFormComponent_div_5_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.nextStep());\n    });\n    i0.ɵɵtext(10, \"Suivant\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    let tmp_2_0;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.medications);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx_r1.prescriptionForm.get(\"medicationId\")) == null ? null : tmp_2_0.invalid) && ((tmp_2_0 = ctx_r1.prescriptionForm.get(\"medicationId\")) == null ? null : tmp_2_0.touched));\n  }\n}\nfunction PrescriptionFormComponent_div_6_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" Le dosage est requis. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PrescriptionFormComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"img\", 5);\n    i0.ɵɵelementStart(2, \"label\", 26);\n    i0.ɵɵtext(3, \"Dosage\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 27);\n    i0.ɵɵtemplate(5, PrescriptionFormComponent_div_6_div_5_Template, 2, 0, \"div\", 19);\n    i0.ɵɵelementStart(6, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function PrescriptionFormComponent_div_6_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.nextStep());\n    });\n    i0.ɵɵtext(7, \"Suivant\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx_r1.prescriptionForm.get(\"dosage\")) == null ? null : tmp_1_0.invalid) && ((tmp_1_0 = ctx_r1.prescriptionForm.get(\"dosage\")) == null ? null : tmp_1_0.touched));\n  }\n}\nfunction PrescriptionFormComponent_div_7_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" La date est requise. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PrescriptionFormComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"img\", 5);\n    i0.ɵɵelementStart(2, \"label\", 28);\n    i0.ɵɵtext(3, \"Date de prescription\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 29);\n    i0.ɵɵtemplate(5, PrescriptionFormComponent_div_7_div_5_Template, 2, 0, \"div\", 19);\n    i0.ɵɵelementStart(6, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function PrescriptionFormComponent_div_7_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.nextStep());\n    });\n    i0.ɵɵtext(7, \"Suivant\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    let tmp_2_0;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"value\", (tmp_1_0 = ctx_r1.prescriptionForm.get(\"datePrescribed\")) == null ? null : tmp_1_0.value);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx_r1.prescriptionForm.get(\"datePrescribed\")) == null ? null : tmp_2_0.invalid) && ((tmp_2_0 = ctx_r1.prescriptionForm.get(\"datePrescribed\")) == null ? null : tmp_2_0.touched));\n  }\n}\nfunction PrescriptionFormComponent_div_8_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" L'heure est requise. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PrescriptionFormComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"img\", 5);\n    i0.ɵɵelementStart(2, \"label\", 30);\n    i0.ɵɵtext(3, \"Heure de prescription\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 31);\n    i0.ɵɵtemplate(5, PrescriptionFormComponent_div_8_div_5_Template, 2, 0, \"div\", 19);\n    i0.ɵɵelementStart(6, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function PrescriptionFormComponent_div_8_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.nextStep());\n    });\n    i0.ɵɵtext(7, \"Suivant\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    let tmp_2_0;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"value\", (tmp_1_0 = ctx_r1.prescriptionForm.get(\"timePrescribed\")) == null ? null : tmp_1_0.value);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx_r1.prescriptionForm.get(\"timePrescribed\")) == null ? null : tmp_2_0.invalid) && ((tmp_2_0 = ctx_r1.prescriptionForm.get(\"timePrescribed\")) == null ? null : tmp_2_0.touched));\n  }\n}\nexport class PrescriptionFormComponent {\n  router;\n  fb;\n  apiService;\n  prescriptionForm;\n  medications;\n  stepData = [{\n    key: 'nom',\n    value: ''\n  }, {\n    key: 'traitement',\n    value: ''\n  }, {\n    key: 'frequence',\n    value: ''\n  }, {\n    key: 'medicament',\n    value: ''\n  }, {\n    key: 'dosage',\n    value: ''\n  }, {\n    key: 'prescriptionDate',\n    value: ''\n  }, {\n    key: 'prescriptionTime',\n    value: ''\n  }];\n  currentStepIndex = 0; // Pour suivre l'étape actuelle\n  constructor(router, fb, apiService) {\n    this.router = router;\n    this.fb = fb;\n    this.apiService = apiService;\n    this.prescriptionForm = this.fb.group({\n      medicationId: ['', Validators.required],\n      dosage: ['', Validators.required],\n      frequence: ['', Validators.required],\n      datePrescribed: [new Date().toISOString(), Validators.required],\n      timePrescribed: [new Date().toISOString(), Validators.required] // Heure actuelle\n    });\n  }\n  ngOnInit() {\n    this.apiService.getMedications().subscribe({\n      next: data => {\n        // S'assurer que les données reçues sont un tableau d'objets Medication\n        if (Array.isArray(data)) {\n          this.medications = data; // Remplacez le tableau vide par les données reçues\n          console.log('Médicaments récupérés :', this.medications);\n        } else {\n          console.error('Les données récupérées ne sont pas un tableau !');\n        }\n      },\n      error: err => {\n        console.error('Erreur lors de la récupération des médicaments :', err);\n      }\n    });\n  }\n  nextStep() {\n    if (this.currentStepIndex < 6) {\n      this.currentStepIndex++;\n    }\n    if (this.currentStepIndex === 6) {\n      // Afficher un SweetAlert de confirmation avant de valider\n      Swal.fire({\n        title: 'Êtes-vous sûr ?',\n        text: \"Êtes-vous sûr de vouloir valider le formulaire ?\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Oui, valider',\n        cancelButtonText: 'Non, revenir en arrière'\n      }).then(result => {\n        if (result.isConfirmed) {\n          // Code pour valider le formulaire ou effectuer l'action finale\n          this.onSubmit(); // Exemple de méthode pour soumettre le formulaire\n        } else {\n          // Si l'utilisateur annule, revenir en arrière (ne pas incrémenter l'index)\n          this.currentStepIndex--;\n        }\n      });\n    }\n  }\n  previousStep() {\n    this.currentStepIndex--;\n  }\n  showSuccessAlert() {\n    Swal.fire({\n      title: 'Succès!',\n      text: 'La prescription a été remplie avec succès.',\n      icon: 'success',\n      confirmButtonText: 'OK'\n    }).then(result => {\n      if (result.isConfirmed) {\n        // Rediriger vers la page d'accueil (home-page)\n        this.router.navigate(['/home-page']);\n      }\n    });\n  }\n  onSubmit() {\n    console.log(this.prescriptionForm);\n    if (this.prescriptionForm.valid) {\n      const formData = this.prescriptionForm.value;\n      console.log(formData);\n      // Rechercher le médicament sélectionné par son ID\n      const selectedMedication = this.medications.find(med => med._id === formData.medicationId // Comparer directement les deux comme des chaînes\n      );\n      // Construire l'objet prescriptionData\n      const prescriptionData = {\n        medicationId: selectedMedication?._id || null,\n        medicationName: selectedMedication?.name || 'Médicament inconnu',\n        frequence: formData.frequence,\n        dosage: formData.dosage,\n        datePrescribed: formData.datePrescribed,\n        timePrescribed: formData.timePrescribed\n      };\n      this.apiService.postPrescriptions(prescriptionData).subscribe({\n        next: response => {\n          this.showSuccessAlert();\n          console.log('Prescription ajoutée avec succès :', response);\n        },\n        error: err => {\n          console.error('Erreur lors de l\\'envoi de la prescription :', err);\n        }\n      });\n      console.log('Prescription Data:', prescriptionData);\n      // Ajouter ici l'appel à une API ou toute autre action pour envoyer les données\n      // Exemple : this.apiService.postPrescription(prescriptionData).subscribe(...);\n    } else {\n      console.log('Le formulaire est invalide.');\n    }\n  }\n  static ɵfac = function PrescriptionFormComponent_Factory(t) {\n    return new (t || PrescriptionFormComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.ApiService));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PrescriptionFormComponent,\n    selectors: [[\"app-prescription-form\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 9,\n    vars: 7,\n    consts: [[1, \"container\"], [1, \"prescriptionForm\", 3, \"ngSubmit\", \"formGroup\"], [\"class\", \"form_group_1\", 4, \"ngIf\"], [\"class\", \"form-group\", 4, \"ngIf\"], [1, \"form_group_1\"], [\"src\", \"../../../assets/icons/icon-treatment-1.png\", 1, \"icon-treatment-1\"], [\"for\", \"Nom-treatement\", 1, \"name-treatment\"], [\"type\", \"text\", \"placeholder\", \"Ajouter le nom de la prescription\", 1, \"form-control\"], [\"type\", \"button\", 1, \"next-step\", 3, \"click\"], [1, \"form-group\"], [\"for\", \"frequence\"], [\"formControlName\", \"frequence\", 1, \"select-form\"], [\"value\", \"1 fois par jour\"], [\"value\", \"2 fois par jour\"], [\"value\", \"Toutes les 30 secondes\"], [\"value\", \"Toutes les 10 minutes\"], [\"value\", \"Toutes les 4 heures\"], [\"value\", \"Toutes les 8 heures\"], [\"value\", \"Toutes les 12 heures\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [1, \"text-danger\"], [\"for\", \"medicationId\"], [\"id\", \"medicationId\", \"formControlName\", \"medicationId\", 1, \"select-form\", \"form-control\"], [\"value\", \"\", \"disabled\", \"\", \"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [\"for\", \"dosage\"], [\"id\", \"dosage\", \"type\", \"text\", \"formControlName\", \"dosage\", \"placeholder\", \"Entrez le dosage\", 1, \"form-control\"], [\"for\", \"datePrescribed\"], [\"id\", \"datePrescribed\", \"type\", \"date\", \"formControlName\", \"datePrescribed\", 1, \"form-control\", 3, \"value\"], [\"for\", \"timePrescribed\"], [\"id\", \"timePrescribed\", \"type\", \"time\", \"formControlName\", \"timePrescribed\", 1, \"form-control\", 3, \"value\"]],\n    template: function PrescriptionFormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-nav-bar\");\n        i0.ɵɵelementStart(1, \"div\", 0)(2, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function PrescriptionFormComponent_Template_form_ngSubmit_2_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵtemplate(3, PrescriptionFormComponent_div_3_Template, 7, 0, \"div\", 2)(4, PrescriptionFormComponent_div_4_Template, 22, 1, \"div\", 3)(5, PrescriptionFormComponent_div_5_Template, 11, 2, \"div\", 3)(6, PrescriptionFormComponent_div_6_Template, 8, 1, \"div\", 3)(7, PrescriptionFormComponent_div_7_Template, 8, 2, \"div\", 3)(8, PrescriptionFormComponent_div_8_Template, 8, 2, \"div\", 3);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"formGroup\", ctx.prescriptionForm);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.currentStepIndex === 0);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.currentStepIndex === 1);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.currentStepIndex === 2);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.currentStepIndex === 3);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.currentStepIndex === 4);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.currentStepIndex === 5);\n      }\n    },\n    dependencies: [ReactiveFormsModule, i2.ɵNgNoValidate, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, CommonModule, i4.NgForOf, i4.NgIf, NavBarComponent, SweetAlert2Module],\n    styles: [\"[_nghost-%COMP%] {\\n  background-color: #1C1C1E;\\n}\\n.container[_ngcontent-%COMP%] {\\n    margin: auto;\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    flex-direction: column;\\n    min-height: 50vh;\\n\\n  }\\n\\n  \\n\\n  .icon-treatment-1[_ngcontent-%COMP%] {\\n    display: block;\\n    margin: auto;\\n    height: 100px;\\n    width: 100px;\\n  }\\n.form-control[_ngcontent-%COMP%] {\\n  margin-top: 10px;\\n  color: #fff;\\n  background-color: #44444a;\\n  border-radius: 5px;\\n  padding: 12px;\\n  width: 94%;\\n  height: 10px;\\n  border: none;\\n}\\n\\n.form-control[_ngcontent-%COMP%]::placeholder{\\n  color: #ffffff57;\\n}\\n\\n\\n  .next-step[_ngcontent-%COMP%] {\\n    cursor: pointer;\\n    background-color: #0a84ff;\\n    color: #fff;\\n    border-radius: 8px;\\n    padding: 12px;\\n    font-weight: bold;\\n    border: none;\\n    padding: 10px;\\n    width: 100%;\\n    border-radius: 5px;\\n    display: block;\\n    margin: auto;\\n    margin-top:50px;\\n  }\\n  label[_ngcontent-%COMP%] {\\n    font-size: 30px;\\n    text-align: center;\\n  }\\n  .prescriptionForm[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: center;\\n    width: 100%;\\n  }\\n  \\n  .form-group[_ngcontent-%COMP%], .form_group_1[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: center;\\n    flex-direction: column;\\n    width: 100%;\\n    background: #1C1C1E;\\n    max-width: 400px;\\n    padding: 40px;\\n  }\\n    .form-group[_ngcontent-%COMP%]{\\n    margin-bottom: 1.5rem;\\n    transform: translateX(-100%); \\n\\n    transition: opacity 0.5s ease, transform 0.5s ease; \\n\\n  }\\n    \\n  .form-group[_ngcontent-%COMP%] {\\n    margin-bottom: 1.5rem;\\n    opacity: 0; \\n\\n    transform: translateX(-100%); \\n\\n    animation: _ngcontent-%COMP%_slideIn 0.2s ease-out forwards; \\n\\n  }\\n  \\n  @keyframes _ngcontent-%COMP%_slideIn {\\n    0% {\\n      transform: translateX(-100%); \\n\\n      opacity: 0; \\n\\n    }\\n    100% {\\n      transform: translateX(0); \\n\\n      opacity: 1; \\n\\n    }\\n  }\\n  \\n\\n  .form-group.visible[_ngcontent-%COMP%] {\\n    opacity: 1; \\n\\n    transform: translateX(0); \\n\\n  }\\n \\n  .text-danger[_ngcontent-%COMP%] {\\n    font-size: 0.85rem;\\n  }\\n  \\n  .select-form[_ngcontent-%COMP%] {\\n    padding: 10px;\\n    background-color: #fff;\\n    color: #0D0C14;\\n    border: none;\\n    font-family: \\\"Poppins\\\", serif;\\n    font-weight: bold;\\n    font-style: normal;\\n    line-height: normal; \\n\\n    vertical-align: middle; \\n\\n    appearance: none; \\n\\n    -webkit-appearance: none; \\n\\n    -moz-appearance: none; \\n\\n    height: 50px;\\n  }\\n  .input-submit[_ngcontent-%COMP%] {\\n    border: none;\\n    padding: 10px;\\n\\n    background-color: #fff;\\n    border-radius: 5px;\\n    color: #0D0C14;\\n  }\\n\\n\\n  .input-submit[_ngcontent-%COMP%]:hover{\\n    background-color: #ffffff6b;\\n  }\\n\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wcmVzY3JpcHRpb24tZm9ybS9wcmVzY3JpcHRpb24tZm9ybS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UseUJBQXlCO0FBQzNCO0FBQ0E7SUFDSSxZQUFZO0lBQ1osYUFBYTtJQUNiLDhCQUE4QjtJQUM5QixtQkFBbUI7SUFDbkIsc0JBQXNCO0lBQ3RCLGdCQUFnQjs7RUFFbEI7Ozs7RUFJQTtJQUNFLGNBQWM7SUFDZCxZQUFZO0lBQ1osYUFBYTtJQUNiLFlBQVk7RUFDZDtBQUNGO0VBQ0UsZ0JBQWdCO0VBQ2hCLFdBQVc7RUFDWCx5QkFBeUI7RUFDekIsa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixVQUFVO0VBQ1YsWUFBWTtFQUNaLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7O0VBR0U7SUFDRSxlQUFlO0lBQ2YseUJBQXlCO0lBQ3pCLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsYUFBYTtJQUNiLGlCQUFpQjtJQUNqQixZQUFZO0lBQ1osYUFBYTtJQUNiLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsY0FBYztJQUNkLFlBQVk7SUFDWixlQUFlO0VBQ2pCO0VBQ0E7SUFDRSxlQUFlO0lBQ2Ysa0JBQWtCO0VBQ3BCO0VBQ0E7SUFDRSxhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLFdBQVc7RUFDYjs7RUFFQTtJQUNFLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsc0JBQXNCO0lBQ3RCLFdBQVc7SUFDWCxtQkFBbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLGFBQWE7RUFDZjtJQUNFO0lBQ0EscUJBQXFCO0lBQ3JCLDRCQUE0QixFQUFFLDZDQUE2QztJQUMzRSxrREFBa0QsRUFBRSxpREFBaUQ7RUFDdkc7O0VBRUE7SUFDRSxxQkFBcUI7SUFDckIsVUFBVSxFQUFFLG1DQUFtQztJQUMvQyw0QkFBNEIsRUFBRSwyQ0FBMkM7SUFDekUseUNBQXlDLEVBQUUsZ0RBQWdEO0VBQzdGOztFQUVBO0lBQ0U7TUFDRSw0QkFBNEIsRUFBRSxzQ0FBc0M7TUFDcEUsVUFBVSxFQUFFLHVCQUF1QjtJQUNyQztJQUNBO01BQ0Usd0JBQXdCLEVBQUUsdUNBQXVDO01BQ2pFLFVBQVUsRUFBRSxpQ0FBaUM7SUFDL0M7RUFDRjtFQUNBLHNGQUFzRjtFQUN0RjtJQUNFLFVBQVUsRUFBRSw4QkFBOEI7SUFDMUMsd0JBQXdCLEVBQUUsNkRBQTZEO0VBQ3pGOztFQUVBO0lBQ0Usa0JBQWtCO0VBQ3BCOztFQUVBO0lBQ0UsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixjQUFjO0lBQ2QsWUFBWTtJQUNaLDZCQUE2QjtJQUM3QixpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLG1CQUFtQixFQUFFLDZDQUE2QztJQUNsRSxzQkFBc0IsRUFBRSxpQ0FBaUM7SUFDekQsZ0JBQWdCLEVBQUUsdURBQXVEO0lBQ3pFLHdCQUF3QixFQUFFLHVEQUF1RDtJQUNqRixxQkFBcUIsRUFBRSxpQkFBaUI7SUFDeEMsWUFBWTtFQUNkO0VBQ0E7SUFDRSxZQUFZO0lBQ1osYUFBYTs7SUFFYixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLGNBQWM7RUFDaEI7OztFQUdBO0lBQ0UsMkJBQTJCO0VBQzdCIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMUMxQzFFO1xufVxuLmNvbnRhaW5lciB7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBtaW4taGVpZ2h0OiA1MHZoO1xuXG4gIH1cblxuICBcblxuICAuaWNvbi10cmVhdG1lbnQtMSB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIGhlaWdodDogMTAwcHg7XG4gICAgd2lkdGg6IDEwMHB4O1xuICB9XG4uZm9ybS1jb250cm9sIHtcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgY29sb3I6ICNmZmY7XG4gIGJhY2tncm91bmQtY29sb3I6ICM0NDQ0NGE7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgcGFkZGluZzogMTJweDtcbiAgd2lkdGg6IDk0JTtcbiAgaGVpZ2h0OiAxMHB4O1xuICBib3JkZXI6IG5vbmU7XG59XG5cbi5mb3JtLWNvbnRyb2w6OnBsYWNlaG9sZGVye1xuICBjb2xvcjogI2ZmZmZmZjU3O1xufVxuXG5cbiAgLm5leHQtc3RlcCB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwYTg0ZmY7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIHBhZGRpbmc6IDEycHg7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbjogYXV0bztcbiAgICBtYXJnaW4tdG9wOjUwcHg7XG4gIH1cbiAgbGFiZWwge1xuICAgIGZvbnQtc2l6ZTogMzBweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cbiAgLnByZXNjcmlwdGlvbkZvcm0ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cbiAgXG4gIC5mb3JtLWdyb3VwLCAuZm9ybV9ncm91cF8xIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgYmFja2dyb3VuZDogIzFDMUMxRTtcbiAgICBtYXgtd2lkdGg6IDQwMHB4O1xuICAgIHBhZGRpbmc6IDQwcHg7XG4gIH1cbiAgICAuZm9ybS1ncm91cHtcbiAgICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDAlKTsgLyogQ29tbWVuY2UgZW4gZGVob3JzIGRlIGwnw4PCqWNyYW4gKMODwqAgZ2F1Y2hlKSAqL1xuICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC41cyBlYXNlLCB0cmFuc2Zvcm0gMC41cyBlYXNlOyAvKiBUcmFuc2l0aW9uIGRvdWNlIHBvdXIgb3BhY2l0w4PCqSBldCBkw4PCqXBsYWNlbWVudCAqL1xuICB9XG4gICAgXG4gIC5mb3JtLWdyb3VwIHtcbiAgICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XG4gICAgb3BhY2l0eTogMDsgLyogQ29tbWVuY2UgYXZlYyB1bmUgb3BhY2l0w4PCqSBkZSAwICovXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDAlKTsgLyogQ29tbWVuY2UgZW4gZGVob3JzIGRlIGwnw4PCqWNyYW4gw4PCoCBnYXVjaGUgKi9cbiAgICBhbmltYXRpb246IHNsaWRlSW4gMC4ycyBlYXNlLW91dCBmb3J3YXJkczsgLyogQXBwbGlxdWUgbCdhbmltYXRpb24gYXZlYyB1bmUgZHVyw4PCqWUgZGUgMC41cyAqL1xuICB9XG4gIFxuICBAa2V5ZnJhbWVzIHNsaWRlSW4ge1xuICAgIDAlIHtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSk7IC8qIENvbW1lbmNlIGhvcnMgZGUgbCfDg8KpY3JhbiDDg8KgIGdhdWNoZSAqL1xuICAgICAgb3BhY2l0eTogMDsgLyogQ29tbWVuY2UgaW52aXNpYmxlICovXG4gICAgfVxuICAgIDEwMCUge1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyAvKiBTZSBkw4PCqXBsYWNlIMODwqAgc2EgcG9zaXRpb24gZCdvcmlnaW5lICovXG4gICAgICBvcGFjaXR5OiAxOyAvKiBEZXZpZW50IGNvbXBsw4PCqHRlbWVudCB2aXNpYmxlICovXG4gICAgfVxuICB9XG4gIC8qIExvcnNxdSdvbiBhcHBsaXF1ZSBsYSBjbGFzc2UgLnZpc2libGUsIGwnw4PCqWzDg8KpbWVudCBmYWl0IGxlIHNsaWRlIGV0IGRldmllbnQgdmlzaWJsZSAqL1xuICAuZm9ybS1ncm91cC52aXNpYmxlIHtcbiAgICBvcGFjaXR5OiAxOyAvKiBMJ8ODwqlsw4PCqW1lbnQgZGV2aWVudCB2aXNpYmxlICovXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyAvKiBMJ8ODwqlsw4PCqW1lbnQgZ2xpc3NlIGRlIGxhIGdhdWNoZSB2ZXJzIHNhIHBvc2l0aW9uIGQnb3JpZ2luZSAqL1xuICB9XG4gXG4gIC50ZXh0LWRhbmdlciB7XG4gICAgZm9udC1zaXplOiAwLjg1cmVtO1xuICB9XG4gIFxuICAuc2VsZWN0LWZvcm0ge1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICBjb2xvcjogIzBEMEMxNDtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgZm9udC1mYW1pbHk6IFwiUG9wcGluc1wiLCBzZXJpZjtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBmb250LXN0eWxlOiBub3JtYWw7XG4gICAgbGluZS1oZWlnaHQ6IG5vcm1hbDsgLyogQWp1c3RlIGxhIGhhdXRldXIgZGUgbGlnbmUgc2kgbsODwqljZXNzYWlyZSAqL1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IC8qIEFqdXN0ZSBsJ2FsaWduZW1lbnQgdmVydGljYWwgKi9cbiAgICBhcHBlYXJhbmNlOiBub25lOyAvKiBFbmzDg8KodmUgbGVzIHN0eWxlcyBuYXRpZnMgcG91ciBjZXJ0YWlucyBuYXZpZ2F0ZXVycyAqL1xuICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsgLyogUG91ciBTYWZhcmkgZXQgYXV0cmVzIG5hdmlnYXRldXJzIGJhc8ODwqlzIHN1ciBXZWJraXQgKi9cbiAgICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7IC8qIFBvdXIgRmlyZWZveCAqL1xuICAgIGhlaWdodDogNTBweDtcbiAgfVxuICAuaW5wdXQtc3VibWl0IHtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgcGFkZGluZzogMTBweDtcblxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIGNvbG9yOiAjMEQwQzE0O1xuICB9XG5cblxuICAuaW5wdXQtc3VibWl0OmhvdmVye1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY2YjtcbiAgfVxuXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["CommonModule","ReactiveFormsModule","Validators","NavBarComponent","SweetAlert2Module","Swal","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵlistener","PrescriptionFormComponent_div_3_Template_button_click_5_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","nextStep","ɵɵtemplate","PrescriptionFormComponent_div_4_div_19_Template","PrescriptionFormComponent_div_4_Template_button_click_20_listener","_r3","ɵɵadvance","ɵɵproperty","tmp_1_0","prescriptionForm","get","invalid","touched","medication_r5","_id","ɵɵtextInterpolate1","name","PrescriptionFormComponent_div_5_option_7_Template","PrescriptionFormComponent_div_5_div_8_Template","PrescriptionFormComponent_div_5_Template_button_click_9_listener","_r4","medications","tmp_2_0","PrescriptionFormComponent_div_6_div_5_Template","PrescriptionFormComponent_div_6_Template_button_click_6_listener","_r6","PrescriptionFormComponent_div_7_div_5_Template","PrescriptionFormComponent_div_7_Template_button_click_6_listener","_r7","value","PrescriptionFormComponent_div_8_div_5_Template","PrescriptionFormComponent_div_8_Template_button_click_6_listener","_r8","PrescriptionFormComponent","router","fb","apiService","stepData","key","currentStepIndex","constructor","group","medicationId","required","dosage","frequence","datePrescribed","Date","toISOString","timePrescribed","ngOnInit","getMedications","subscribe","next","data","Array","isArray","console","log","error","err","fire","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","then","result","isConfirmed","onSubmit","previousStep","showSuccessAlert","navigate","valid","formData","selectedMedication","find","med","prescriptionData","medicationName","postPrescriptions","response","ɵɵdirectiveInject","i1","Router","i2","FormBuilder","i3","ApiService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","PrescriptionFormComponent_Template","rf","ctx","PrescriptionFormComponent_Template_form_ngSubmit_2_listener","PrescriptionFormComponent_div_3_Template","PrescriptionFormComponent_div_4_Template","PrescriptionFormComponent_div_5_Template","PrescriptionFormComponent_div_6_Template","PrescriptionFormComponent_div_7_Template","PrescriptionFormComponent_div_8_Template","ɵNgNoValidate","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","i4","NgForOf","NgIf","styles"],"sources":["/Users/sullivan/Desktop/Guardian-project-sullivan-sextius/Guardian-project-sullivan-sextius/src/app/components/prescription-form/prescription-form.component.ts","/Users/sullivan/Desktop/Guardian-project-sullivan-sextius/Guardian-project-sullivan-sextius/src/app/components/prescription-form/prescription-form.component.html"],"sourcesContent":["import { CommonModule } from '@angular/common';\nimport { Component, NgModule, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { NavBarComponent } from '../nav-bar/nav-bar.component';\nimport { ApiService } from 'src/services/api.service';\nimport { Medication } from 'src/models/medication';\nimport { SweetAlert2Module } from '@sweetalert2/ngx-sweetalert2';\nimport Swal from 'sweetalert2';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-prescription-form',\n  templateUrl: './prescription-form.component.html',\n  styleUrls: ['./prescription-form.component.css'],\n  standalone:true,\n  imports:[ReactiveFormsModule,CommonModule, NavBarComponent,SweetAlert2Module]\n})\nexport class PrescriptionFormComponent implements OnInit {\n  prescriptionForm: FormGroup;\n  medications:Medication[];\n  stepData: { key: string, value: any }[] = [\n    { key: 'nom', value: '' },\n    { key: 'traitement', value: '' },\n    { key: 'frequence', value: '' },\n    { key: 'medicament', value: '' },\n    { key: 'dosage', value: '' },\n    { key: 'prescriptionDate', value: '' },\n    { key: 'prescriptionTime', value: '' }\n  ];\n  currentStepIndex: number = 0; // Pour suivre l'étape actuelle\n\n  constructor(private router:Router, private fb: FormBuilder, private apiService:ApiService) {\n    this.prescriptionForm = this.fb.group({\n      medicationId: ['', Validators.required],\n      dosage: ['', Validators.required],\n      frequence: ['', Validators.required],  // Champ pour la fréquence\n      datePrescribed: [new Date().toISOString(), Validators.required], // Date actuelle\n      timePrescribed: [new Date().toISOString(), Validators.required], // Heure actuelle\n    });\n  }\n\n  \n  \n\n  ngOnInit(): void {\n    this.apiService.getMedications().subscribe({\n      next: (data) => {\n        // S'assurer que les données reçues sont un tableau d'objets Medication\n        if (Array.isArray(data)) {\n          this.medications = data; // Remplacez le tableau vide par les données reçues\n          console.log('Médicaments récupérés :', this.medications);\n        } else {\n          console.error('Les données récupérées ne sont pas un tableau !');\n        }\n      },\n      error: (err) => {\n        console.error('Erreur lors de la récupération des médicaments :', err);\n      }\n    });\n  }\n\n  nextStep(): void {\n    if (this.currentStepIndex < 6) {\n      this.currentStepIndex++;\n    }\n  \n    if (this.currentStepIndex === 6) {\n      // Afficher un SweetAlert de confirmation avant de valider\n      Swal.fire({\n        title: 'Êtes-vous sûr ?',\n        text: \"Êtes-vous sûr de vouloir valider le formulaire ?\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Oui, valider',\n        cancelButtonText: 'Non, revenir en arrière',\n      }).then((result) => {\n        if (result.isConfirmed) {\n          // Code pour valider le formulaire ou effectuer l'action finale\n          this.onSubmit(); // Exemple de méthode pour soumettre le formulaire\n        } else {\n          // Si l'utilisateur annule, revenir en arrière (ne pas incrémenter l'index)\n          this.currentStepIndex--;\n        }\n      });\n    }\n  }\n\n\n  previousStep(){\n    this.currentStepIndex--;\n  }\n  showSuccessAlert() {\n    Swal.fire({\n      title: 'Succès!',\n      text: 'La prescription a été remplie avec succès.',\n      icon: 'success',\n      confirmButtonText: 'OK'\n    }).then((result) => {\n      if (result.isConfirmed) {\n        // Rediriger vers la page d'accueil (home-page)\n        this.router.navigate(['/home-page']);\n      }\n    });\n  }\n\n  onSubmit(): void {\n    console.log(this.prescriptionForm)\n    if (this.prescriptionForm.valid) {\n      const formData = this.prescriptionForm.value;\n      console.log(formData);\n      \n      // Rechercher le médicament sélectionné par son ID\n      const selectedMedication = this.medications.find(\n        (med) => med._id === formData.medicationId // Comparer directement les deux comme des chaînes\n      );\n      // Construire l'objet prescriptionData\n      const prescriptionData = {\n        medicationId: selectedMedication?._id || null, // Inclure l'ID du médicament\n        medicationName: selectedMedication?.name || 'Médicament inconnu',\n        frequence: formData.frequence,\n        dosage: formData.dosage,\n        datePrescribed: formData.datePrescribed,\n        timePrescribed: formData.timePrescribed\n      };\n\n      this.apiService.postPrescriptions(prescriptionData).subscribe({\n        next: (response) => {\n          this.showSuccessAlert()\n          console.log('Prescription ajoutée avec succès :', response);\n        },\n        error: (err) => {\n          console.error('Erreur lors de l\\'envoi de la prescription :', err);\n        }\n      });\n      \n      console.log('Prescription Data:', prescriptionData);\n  \n      // Ajouter ici l'appel à une API ou toute autre action pour envoyer les données\n      // Exemple : this.apiService.postPrescription(prescriptionData).subscribe(...);\n    } else {\n      console.log('Le formulaire est invalide.');\n    }\n  }\n  \n}\n","<app-nav-bar></app-nav-bar>\n<div class=\"container\">\n    <form class=\"prescriptionForm\" [formGroup]=\"prescriptionForm\" (ngSubmit)=\"onSubmit()\">\n    \n   \n      <div class=\"form_group_1\" *ngIf=\"currentStepIndex === 0\">\n        <img class=\"icon-treatment-1\" src=\"../../../assets/icons/icon-treatment-1.png\"/>\n        <label class=\"name-treatment\" for=\"Nom-treatement\">Nom du traitement</label>\n        <input\n        type=\"text\"\n        class=\"form-control\"\n        placeholder=\"Ajouter le nom de la prescription\" />\n        <button (click)=\"nextStep()\" type=\"button\" class=\"next-step\">Suivant</button>\n      </div>\n    <!-- Fréquence -->\n    <div class=\"form-group\" *ngIf=\"currentStepIndex === 1\" >\n      <img class=\"icon-treatment-1\" src=\"../../../assets/icons/icon-treatment-1.png\"/>\n      <label for=\"frequence\">Récurrence</label>\n     \n        <select class=\"select-form\" formControlName=\"frequence\">\n          <option value=\"1 fois par jour\">1 fois par jour</option>\n          <option value=\"2 fois par jour\">2 fois par jour</option>\n          <option value=\"Toutes les 30 secondes\">Toutes les 30 secondes</option>\n          <option value=\"Toutes les 10 minutes\">Toutes les 10 minutes</option>\n          <option value=\"Toutes les 4 heures\">Toutes les 4 heures</option>\n          <option value=\"Toutes les 8 heures\">Toutes les 8 heures</option>\n          <option value=\"Toutes les 12 heures\">Toutes les 12 heures</option>\n        </select>\n        <div *ngIf=\"prescriptionForm.get('frequence')?.invalid && prescriptionForm.get('frequence')?.touched\" class=\"text-danger\">\n          La fréquence est requise.\n        </div>\n        <button class=\"next-step\" type=\"button\"  (click)=\"nextStep()\">Suivant</button>\n    </div>\n      <!-- Liste des médicaments -->\n      <div class=\"form-group\" *ngIf=\"currentStepIndex === 2\" >\n        <img class=\"icon-treatment-1\" src=\"../../../assets/icons/icon-treatment-1.png\"/>\n        <label for=\"medicationId\">Medication</label>\n        \n        <select id=\"medicationId\" class=\"select-form form-control\" formControlName=\"medicationId\">\n          <option value=\"\" disabled selected>Select a medication</option>\n          <option *ngFor=\"let medication of medications\" [value]=\"medication._id\">\n            {{ medication.name }}\n          </option>\n        </select>\n        <div *ngIf=\"prescriptionForm.get('medicationId')?.invalid && prescriptionForm.get('medicationId')?.touched\" class=\"text-danger\">\n          Vous devez sélectionner un médicament.\n        </div>\n        <button class=\"next-step\" type=\"button\"  (click)=\"nextStep()\">Suivant</button>\n      </div>\n    \n      <!-- Dosage -->\n      <div class=\"form-group\" *ngIf=\"currentStepIndex === 3\" >\n        <img class=\"icon-treatment-1\" src=\"../../../assets/icons/icon-treatment-1.png\"/>\n        <label for=\"dosage\">Dosage</label>\n        <input\n          id=\"dosage\"\n          type=\"text\"\n          class=\"form-control\"\n          formControlName=\"dosage\"\n          placeholder=\"Entrez le dosage\"\n        />\n        <div *ngIf=\"prescriptionForm.get('dosage')?.invalid && prescriptionForm.get('dosage')?.touched\" class=\"text-danger\">\n          Le dosage est requis.\n        </div>\n        <button class=\"next-step\" type=\"button\"  (click)=\"nextStep()\">Suivant</button>\n      </div>\n  <!-- Date de prescription -->\n  <div class=\"form-group\" *ngIf=\"currentStepIndex === 4\" >\n    <img class=\"icon-treatment-1\" src=\"../../../assets/icons/icon-treatment-1.png\"/>\n    <label for=\"datePrescribed\">Date de prescription</label>\n\n   \n    <input\n      id=\"datePrescribed\"\n      type=\"date\"\n      class=\"form-control\"\n      formControlName=\"datePrescribed\"\n      [value]=\"prescriptionForm.get('datePrescribed')?.value\"\n    />\n    <div *ngIf=\"prescriptionForm.get('datePrescribed')?.invalid && prescriptionForm.get('datePrescribed')?.touched\" class=\"text-danger\">\n      La date est requise.\n    </div>\n    <button class=\"next-step\" type=\"button\"  (click)=\"nextStep()\">Suivant</button>\n  </div>\n\n  <!-- Heure de prescription -->\n  <div class=\"form-group\" *ngIf=\"currentStepIndex === 5\">\n    <img class=\"icon-treatment-1\" src=\"../../../assets/icons/icon-treatment-1.png\"/>\n    <label for=\"timePrescribed\">Heure de prescription</label>\n  \n    <input\n      id=\"timePrescribed\"\n      type=\"time\"\n      class=\"form-control\"\n      formControlName=\"timePrescribed\"\n      [value]=\"prescriptionForm.get('timePrescribed')?.value\"\n    />\n    <div *ngIf=\"prescriptionForm.get('timePrescribed')?.invalid && prescriptionForm.get('timePrescribed')?.touched\" class=\"text-danger\">\n      L'heure est requise.\n    </div>\n    <button class=\"next-step\" type=\"button\"  (click)=\"nextStep()\">Suivant</button>\n  \n  </div>\n      <!-- Bouton de soumission -->\n    \n    </form>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}