{"ast":null,"code":"import _asyncToGenerator from \"/Users/sullivan/Desktop/Guardian-project-sullivan-sextius/Guardian-project-sullivan-sextius/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { NavBarComponent } from '../nav-bar/nav-bar.component';\nimport { faPrescriptionBottle } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\nimport { CommonModule } from '@angular/common';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/services/api.service\";\nexport class HomePageComponent {\n  router;\n  apiService;\n  faPrescriptionBottle = faPrescriptionBottle;\n  faPlus = faPlus;\n  hasAnswered = false;\n  message = '';\n  constructor(router, apiService) {\n    this.router = router;\n    this.apiService = apiService;\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      // Appel initial de la méthode checkNotify\n      _this.callCheckNotify();\n      // Répéter l'appel toutes les 10 secondes\n      setInterval(() => {\n        _this.callCheckNotify();\n      }, 10000);\n      // Vérification des réponses de l'utilisateur\n      _this.apiService.checkIfUserHasAnswered().subscribe(response => {\n        _this.message = response.message; // Affiche le message\n        _this.apiService.handleRedirection(response.valeur); // Redirige en fonction de la valeur\n      }, error => {\n        console.error('Erreur lors de la vérification des réponses:', error);\n        _this.message = 'Erreur lors de la vérification de vos réponses.';\n      });\n    })();\n  }\n  // Méthode pour appeler checkNotify\n  callCheckNotify() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const response = yield _this2.apiService.checkNotify(); // Convertir l'Observable en Promise\n        console.log('Réponse de check-notify', response);\n      } catch (error) {\n        console.error('Erreur lors de l\\'appel à check-notify', error);\n      }\n    })();\n  }\n  viewPrescriptions() {\n    // Redirige vers la page de liste des prescriptions\n    this.router.navigate(['/list-prescriptions']); // Assurez-vous que cette route existe\n  }\n  addPrescription() {\n    this.router.navigate(['/add-prescription']); // Assurez-vous que cette route existe\n  }\n  static ɵfac = function HomePageComponent_Factory(t) {\n    return new (t || HomePageComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ApiService));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomePageComponent,\n    selectors: [[\"app-home-page\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 21,\n    vars: 0,\n    consts: [[1, \"home-page-container\"], [1, \"settings-treatment\"], [\"src\", \"../../../assets/icons/icon-add-treatement-form-2.png\", 1, \"icon-treatment-1\"], [1, \"title-treatment\"], [\"src\", \"../../../assets/icons/icon-add-treatement-1.png\", 1, \"icon-label-treatement\"], [\"src\", \"../../../assets/icons/icon-add-treatement-2.png\", 1, \"icon-label-treatement\"], [\"src\", \"../../../assets/icons/icon-add-treatement-3.png\", 1, \"icon-label-treatement\"], [1, \"add-treatment\", 3, \"click\"]],\n    template: function HomePageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-nav-bar\");\n        i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1);\n        i0.ɵɵelement(3, \"img\", 2);\n        i0.ɵɵelementStart(4, \"h1\");\n        i0.ɵɵtext(5, \"Configurer vos traitement\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 3);\n        i0.ɵɵelement(7, \"img\", 4);\n        i0.ɵɵelementStart(8, \"p\");\n        i0.ɵɵtext(9, \"Suivez la prise de tous vos traitements au m\\u00EAme endroit.\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"div\", 3);\n        i0.ɵɵelement(11, \"img\", 5);\n        i0.ɵɵelementStart(12, \"p\");\n        i0.ɵɵtext(13, \"D\\u00E9finissez un programme et recevez des rappels.\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"div\", 3);\n        i0.ɵɵelement(15, \"img\", 6);\n        i0.ɵɵelementStart(16, \"p\");\n        i0.ɵɵtext(17, \"Les informations relatives \\u00E0 vos traitements sont chiffr\\u00E9es et ne pourront \\u00EAtre lues par personne sans votre permission, pas m\\u00EAme par Apple.\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"div\", 3)(19, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function HomePageComponent_Template_button_click_19_listener() {\n          return ctx.addPrescription();\n        });\n        i0.ɵɵtext(20, \"Ajouter un traitement\");\n        i0.ɵɵelementEnd()()();\n      }\n    },\n    dependencies: [NavBarComponent, FontAwesomeModule, CommonModule],\n    styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n\\n \\tvar __webpack_modules__ = ({\\n\\n\\n 914:\\n\\n\\n\\n\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\n\\\\nSyntaxError\\\\n\\\\n(3:3) /Users/sullivan/Desktop/Guardian-project-sullivan-sextius/Guardian-project-sullivan-sextius/src/app/components/home-page/home-page.component.css Unknown word\\\\n\\\\n \\\\u001b[90m 1 | \\\\u001b[39m\\\\u001b[90m\\n\\\\u001b[39m\\\\n \\\\u001b[90m 2 | \\\\u001b[39m\\\\u001b[33m:\\\\u001b[39mhost \\\\u001b[33m{\\\\u001b[39m\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m 3 | \\\\u001b[39m  di\\\\n \\\\u001b[90m   | \\\\u001b[39m  \\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n \\\\u001b[90m 4 | \\\\u001b[39m\\\\u001b[33m}\\\\u001b[39m\\\\n \\\\u001b[90m 5 | \\\\u001b[39m\\\\u001b[33m.home-page-container\\\\u001b[39m \\\\u001b[33m{\\\\u001b[39m\\\\n\\\");\\n\\n\\n })\\n\\n\\n \\t});\\n\\n\\n\\n \\t\\n\\n \\t// startup\\n\\n \\t// Load entry module and return exports\\n\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n\\n \\tvar __webpack_exports__ = {};\\n\\n \\t__webpack_modules__[914]();\\n\\n \\tresource = __webpack_exports__;\\n\\n \\t\\n\\n })()\\n;\\n/*# sourceMappingURL=home-page.component.css.map*/\"]\n  });\n}","map":{"version":3,"names":["NavBarComponent","faPrescriptionBottle","FontAwesomeModule","CommonModule","faPlus","HomePageComponent","router","apiService","hasAnswered","message","constructor","ngOnInit","_this","_asyncToGenerator","callCheckNotify","setInterval","checkIfUserHasAnswered","subscribe","response","handleRedirection","valeur","error","console","_this2","checkNotify","log","viewPrescriptions","navigate","addPrescription","i0","ɵɵdirectiveInject","i1","Router","i2","ApiService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","HomePageComponent_Template","rf","ctx","ɵɵelement","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","HomePageComponent_Template_button_click_19_listener","styles"],"sources":["/Users/sullivan/Desktop/Guardian-project-sullivan-sextius/Guardian-project-sullivan-sextius/src/app/components/home-page/home-page.component.ts","/Users/sullivan/Desktop/Guardian-project-sullivan-sextius/Guardian-project-sullivan-sextius/src/app/components/home-page/home-page.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router'; // Si vous avez besoin de rediriger l'utilisateur\nimport { NavBarComponent } from '../nav-bar/nav-bar.component';\nimport { faPrescriptionBottle } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\nimport { CommonModule } from '@angular/common';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { ApiService } from 'src/services/api.service';\n@Component({\n  selector: 'app-home-page',\n  templateUrl: './home-page.component.html',\n  styleUrls: ['./home-page.component.css'],\n  standalone:true,\n  imports:[NavBarComponent,FontAwesomeModule,CommonModule]\n})\nexport class HomePageComponent {\n  faPrescriptionBottle = faPrescriptionBottle;\n  faPlus = faPlus;\n  hasAnswered: boolean = false;\n  message: string = '';\n  constructor(private router: Router,private apiService:ApiService) {}\n\n\n  async ngOnInit() {\n    // Appel initial de la méthode checkNotify\n    this.callCheckNotify();\n    // Répéter l'appel toutes les 10 secondes\n    setInterval(() => {\n      this.callCheckNotify();\n    }, 10000);\n  \n    // Vérification des réponses de l'utilisateur\n    this.apiService.checkIfUserHasAnswered().subscribe(\n      (response) => {\n        this.message = response.message;  // Affiche le message\n        this.apiService.handleRedirection(response.valeur);  // Redirige en fonction de la valeur\n      },\n      (error) => {\n        console.error('Erreur lors de la vérification des réponses:', error);\n        this.message = 'Erreur lors de la vérification de vos réponses.';\n      }\n    );\n  }\n  \n  // Méthode pour appeler checkNotify\n  async callCheckNotify() {\n    try {\n      const response = await this.apiService.checkNotify(); // Convertir l'Observable en Promise\n      console.log('Réponse de check-notify', response);\n    } catch (error) {\n      console.error('Erreur lors de l\\'appel à check-notify', error);\n    }\n  }\n  \n  viewPrescriptions() {\n    // Redirige vers la page de liste des prescriptions\n    this.router.navigate(['/list-prescriptions']); // Assurez-vous que cette route existe\n  }\n\n  addPrescription() {\n    this.router.navigate(['/add-prescription']); // Assurez-vous que cette route existe\n  }\n}\n","<app-nav-bar></app-nav-bar>\n<div class=\"home-page-container\">\n  <div class=\"settings-treatment\">\n    <img class=\"icon-treatment-1\" src=\"../../../assets/icons/icon-add-treatement-form-2.png\"/>\n    <h1 >Configurer vos traitement</h1>\n  </div>\n\n  <div class=\"title-treatment\">\n    <img class=\"icon-label-treatement\" src=\"../../../assets/icons/icon-add-treatement-1.png\"/>\n    <p>Suivez la prise de tous vos traitements au même endroit.</p>\n  </div>\n\n  <div class=\"title-treatment\">\n    <img class=\"icon-label-treatement\" src=\"../../../assets/icons/icon-add-treatement-2.png\"/>\n    <p>Définissez un programme et recevez des rappels.</p>\n  </div>\n\n\n  <div class=\"title-treatment\">\n    <img class=\"icon-label-treatement\" src=\"../../../assets/icons/icon-add-treatement-3.png\"/>\n    <p>Les informations relatives à vos traitements sont chiffrées et ne pourront être lues par personne sans votre permission, pas même par Apple.</p>\n  </div>\n\n  <div class=\"title-treatment\">\n    <button class=\"add-treatment\" (click)=\"addPrescription()\">Ajouter un traitement</button>\n  </div>\n  </div>\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}